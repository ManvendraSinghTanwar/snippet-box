(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{272:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),n=s(32),l=s.n(n),i=(s(51),s(6)),r=s(4),d=s(33),o=s(0);const j=()=>{const e=d.a;return Object(o.jsx)("nav",{className:"navbar navbar-dark bg-dark navbar-expand",children:Object(o.jsx)("div",{className:"container-fluid",children:Object(o.jsx)("ul",{className:"navbar-nav",children:e.map(((e,t)=>{let{name:s,dest:a}=e;return Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(i.c,{exact:!0,to:a,className:"nav-link",children:s})},t)}))})})})};var p=s(3),b=s(7),m=s.n(b);const x=Object(a.createContext)({snippets:[],searchResults:[],currentSnippet:null,tagCount:[],getSnippets:()=>{},getSnippetById:e=>{},setSnippet:e=>{},createSnippet:e=>{},updateSnippet:(e,t,s)=>{},deleteSnippet:e=>{},toggleSnippetPin:e=>{},countTags:()=>{},searchSnippets:e=>{}}),h=e=>{const[t,s]=Object(a.useState)([]),[c,n]=Object(a.useState)([]),[l,i]=Object(a.useState)(null),[d,j]=Object(a.useState)([]),b=Object(r.f)(),h=()=>{b.push("/")},u=e=>{m.a.get("/api/snippets/".concat(e)).then((e=>i(e.data.data))).catch((e=>h()))},O=e=>{if(e<0)return void i(null);u(e);const s=t.find((t=>t.id===e));s&&i(s)},g=(e,a,c)=>{m.a.put("/api/snippets/".concat(a),e).then((e=>{const n=t.findIndex((e=>e.id===a));s([...t.slice(0,n),e.data.data,...t.slice(n+1)]),i(e.data.data),c||b.push({pathname:"/snippet/".concat(e.data.data.id),state:{from:"/snippets"}})})).catch((e=>h()))},v={snippets:t,searchResults:c,currentSnippet:l,tagCount:d,getSnippets:()=>{m.a.get("/api/snippets").then((e=>s(e.data.data))).catch((e=>h()))},getSnippetById:u,setSnippet:O,createSnippet:e=>{m.a.post("/api/snippets",e).then((e=>{s([...t,e.data.data]),i(e.data.data),b.push({pathname:"/snippet/".concat(e.data.data.id),state:{from:"/snippets"}})})).catch((e=>h()))},updateSnippet:g,deleteSnippet:e=>{window.confirm("Are you sure you want to delete this snippet?")&&m.a.delete("/api/snippets/".concat(e)).then((a=>{const c=t.findIndex((t=>t.id===e));s([...t.slice(0,c),...t.slice(c+1)]),O(-1),b.push("/snippets")})).catch((e=>h()))},toggleSnippetPin:e=>{const s=t.find((t=>t.id===e));s&&g(Object(p.a)(Object(p.a)({},s),{},{isPinned:!s.isPinned}),e,!0)},countTags:()=>{m.a.get("/api/snippets/statistics/count").then((e=>j(e.data.data))).catch((e=>h()))},searchSnippets:e=>{m.a.post("/api/snippets/search",e).then((e=>{n(e.data.data),console.log(e.data.data)})).catch((e=>console.log(e)))}};return Object(o.jsx)(x.Provider,{value:v,children:e.children})},u=e=>Object(o.jsx)("div",{className:"container-lg",children:Object(o.jsx)("div",{className:"row py-4",children:e.children})}),O=e=>{const{text:t,color:s,onClick:a,className:c=""}=e;return Object(o.jsx)("span",{className:"badge bg-".concat(s," ").concat(c," ").concat(a?"cursor-pointer":""),onClick:a,style:a?{cursor:"pointer"}:{},children:t})},g=e=>{const{title:t,children:s,classes:a="",bodyClasses:c=""}=e,n="card mb-3 ".concat(a),l="card-body ".concat(c);return Object(o.jsx)("div",{className:n,children:Object(o.jsxs)("div",{className:l,children:[Object(o.jsx)("h5",{className:"card-title",children:t}),s]})})},v=e=>{const{title:t,prevDest:s,prevState:a,children:c}=e;return Object(o.jsxs)("div",{className:"col-12",children:[Object(o.jsx)("h4",{children:t}),s&&Object(o.jsx)("h6",{children:Object(o.jsx)(i.b,{to:{pathname:s,state:a},className:"text-decoration-none text-light",children:"<- Go back"})}),c]})},f=e=>{const{text:t,color:s,outline:a=!1,small:c=!1,handler:n,classes:l="",type:i="button",disabled:r=!1}=e,d=["btn",a?"btn-outline-".concat(s):"btn-".concat(s),c&&"btn-sm",l];return Object(o.jsx)("button",{type:i,className:d.join(" "),onClick:n,disabled:r,children:t})},N=()=>{const e=Object(o.jsx)(i.b,{to:"/editor",className:"fw-bold text-success text-decoration-none",children:Object(o.jsx)("span",{children:"editor"})});return Object(o.jsxs)("div",{className:"col-12 d-flex flex-column align-items-center",children:[Object(o.jsx)("h4",{children:"You currently don't have any snippets"}),Object(o.jsxs)("p",{children:["Go to the ",e," and create one"]})]})};var y=s(15),S=s.n(y),w=s(36),k=s.n(w),C=s(37),A=s.n(C);const E=e=>{S.a.extend(k.a),S.a.extend(A.a);const t=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.|\+|-|Z)+/.test(e.toString())?"YYYY-MM-DD[T]HH:mm:ss.SSSZ":"YYYY-MM-DD HH:mm:ss.SSS Z",s=S()(e,t);return{formatted:s.format("YYYY-MM-DD HH:mm"),relative:s.fromNow()}},I=e=>{let t="primary";switch(e.toLowerCase().charCodeAt(0)%6){default:t="primary";break;case 1:t="success";break;case 2:t="info";break;case 3:t="warning";break;case 4:t="danger";break;case 5:t="light"}return t};var P=s(38);const F=e=>{const t=T(e,"tags"),s=T(e,"lang");return{query:e.replaceAll(/(tags|lang):[a-zA-Z]+(,[a-zA-Z]+)*/g,"").trim(),tags:t,languages:s}},T=(e,t)=>{let s=[];const a=new RegExp(t+":[a-zA-Z]+(,[a-zA-Z]+)*"),c=e.match(a);return c&&(s=c[0].split(":")[1].split(",")),s};var D=s(14),q=s.n(D),z=s(20),Y=s.n(z),M=s(21);const R=e=>{const{toggleSnippetPin:t}=Object(a.useContext)(x),{id:s,isPinned:c}=e;return Object(o.jsx)("div",{onClick:()=>t(s),className:"cursor-pointer",children:c?Object(o.jsx)(Y.a,{path:M.a,size:.8,color:"#20c997"}):Object(o.jsx)(Y.a,{path:M.b,size:.8,color:"#ced4da"})})},G=e=>{const{title:t,description:s,language:c,code:n,id:l,createdAt:r,isPinned:d}=e.snippet,{setSnippet:j}=Object(a.useContext)(x);return Object(o.jsxs)(g,{classes:"h-100",bodyClasses:"d-flex flex-column",children:[Object(o.jsxs)("h5",{className:"card-title d-flex align-items-center justify-content-between",children:[t,Object(o.jsx)(R,{id:l,isPinned:d})]}),Object(o.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:Object(o.jsx)(O,{text:c,color:I(c)})}),Object(o.jsx)("p",{children:s||"No description"}),Object(o.jsxs)("div",{className:"mt-auto",children:[Object(o.jsxs)("p",{children:["Created ",E(r).relative]}),Object(o.jsx)("hr",{}),Object(o.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(o.jsx)(i.b,{to:{pathname:"/snippet/".concat(l),state:{from:window.location.pathname}},children:Object(o.jsx)(f,{text:"View",color:"secondary",small:!0,outline:!0,classes:"me-2",handler:()=>{j(l)}})}),Object(o.jsx)(f,{text:"Copy code",color:"secondary",small:!0,handler:()=>{q()(n)}})]})]})]})},L=e=>{const{snippets:t}=e;return Object(o.jsx)("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4",children:t.map((e=>Object(o.jsx)("div",{className:"col",children:Object(o.jsx)(G,{snippet:e})},e.id)))})},H=()=>{const{searchSnippets:e}=Object(a.useContext)(x),t=Object(a.useRef)(document.createElement("input"));Object(a.useEffect)((()=>{t.current.focus()}),[t]);return Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("input",{type:"text",className:"form-control",placeholder:"card lang:typescript tags:ui,react",ref:t,onKeyUp:s=>(s=>{const a=F(t.current.value);"Enter"===s.key?e(a):"Escape"===s.key&&(t.current.value="",e(F(t.current.value)))})(s)}),Object(o.jsxs)("div",{className:"form-text text-gray ms-1",children:["Search by pressing `Enter`. Clear with `Esc`. Read more about available filters"," ",Object(o.jsx)("a",{href:"https://github.com/pawelmalak/snippet-box/wiki/Search-filters",target:"_blank",rel:"noreferrer",className:"text-success text-decoration-none",children:"here"})]})]})},Z=()=>{const{snippets:e,getSnippets:t,searchResults:s}=Object(a.useContext)(x);return Object(a.useEffect)((()=>{t()}),[]),Object(o.jsx)(u,{children:0===e.length?Object(o.jsx)(N,{}):Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)(v,{title:"Search"}),Object(o.jsx)(H,{}),Object(o.jsx)("div",{className:"col-12 mb-4",children:Object(o.jsx)(L,{snippets:s})}),e.some((e=>e.isPinned))&&Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)(v,{title:"Pinned snippets"}),Object(o.jsx)("div",{className:"col-12 mt-3",children:Object(o.jsx)(L,{snippets:e.filter((e=>e.isPinned))})})]})]})})};var B=s(39),J=s.n(B);s(269);const U=e=>{const{code:t,language:s}=e,c=(e=>{const t=e.toLowerCase();return P.a.some((e=>e===t))})(s)?s:"plaintext";return Object(a.useEffect)((()=>{J.a.highlightAll()}),[]),Object(o.jsx)("pre",{children:Object(o.jsx)("code",{className:"language-".concat(c.toLowerCase()),style:{whiteSpace:"pre-wrap",borderRadius:"4px"},children:t})})},V=e=>{const{title:t,language:s,tags:c,createdAt:n,updatedAt:l,description:i,code:d,id:j,isPinned:p}=e.snippet,b=Object(r.f)(),{deleteSnippet:m,setSnippet:h}=Object(a.useContext)(x),u=E(n),v=E(l);return Object(o.jsxs)(g,{children:[Object(o.jsxs)("h5",{className:"card-title d-flex align-items-center justify-content-between",children:[t,Object(o.jsx)(R,{id:j,isPinned:p})]}),Object(o.jsx)("p",{children:i}),Object(o.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(o.jsx)("span",{children:"Language"}),Object(o.jsx)("span",{className:"fw-bold",children:s})]}),Object(o.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(o.jsx)("span",{children:"Created"}),Object(o.jsx)("span",{children:u.relative})]}),Object(o.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(o.jsx)("span",{children:"Last updated"}),Object(o.jsx)("span",{children:v.relative})]}),Object(o.jsx)("hr",{}),Object(o.jsx)("div",{children:c.map(((e,t)=>Object(o.jsx)("span",{className:"me-2",children:Object(o.jsx)(O,{text:e,color:"light"})},t)))}),Object(o.jsx)("hr",{}),Object(o.jsxs)("div",{className:"d-grid g-2",style:{rowGap:"10px"},children:[Object(o.jsx)(f,{text:"Delete",color:"danger",small:!0,outline:!0,handler:()=>m(j)}),Object(o.jsx)(f,{text:"Edit",color:"secondary",small:!0,outline:!0,handler:()=>{h(j),b.push({pathname:"/editor/".concat(j),state:{from:window.location.pathname}})}}),Object(o.jsx)(f,{text:"Copy raw url",color:"secondary",small:!0,outline:!0,handler:()=>{const{protocol:e,host:t}=window.location,s="".concat(e,"//").concat(t,"/api/snippets/raw/").concat(j);q()(s)}}),Object(o.jsx)(f,{text:"Copy code",color:"secondary",small:!0,handler:()=>q()(d)})]})]})};var K=s(44);const _=e=>Object(o.jsx)("div",{children:Object(o.jsx)(K.a,{children:e.markdown})}),Q=()=>{const{currentSnippet:e,getSnippetById:t}=Object(a.useContext)(x),{id:s}=Object(r.h)(),c=Object(r.g)(),{from:n}=c.state||"/snippets";return Object(a.useEffect)((()=>{t(+s)}),[]),Object(o.jsx)(u,{children:e?Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)(v,{title:"",prevDest:n}),Object(o.jsx)("div",{className:"col-12 col-md-7 col-lg-8 mt-3",children:Object(o.jsx)(U,{code:e.code,language:e.language})}),Object(o.jsx)("div",{className:"col-12 col-md-5 col-lg-4 mt-md-3",children:Object(o.jsx)(V,{snippet:e})}),e.docs&&Object(o.jsx)("div",{className:"col-12",children:Object(o.jsxs)(g,{title:"Snippet documentation",children:[Object(o.jsx)("hr",{}),Object(o.jsx)(_,{markdown:e.docs})]})})]}):Object(o.jsx)("div",{className:"col-12",children:"Loading..."})})},W=()=>{const{snippets:e,tagCount:t,getSnippets:s,countTags:c}=Object(a.useContext)(x),[n,l]=Object(a.useState)(null),[i,r]=Object(a.useState)([]);Object(a.useEffect)((()=>{s(),c()}),[]),Object(a.useEffect)((()=>{r([...e])}),[e]);return Object(o.jsx)(u,{children:0===e.length?Object(o.jsx)(N,{}):Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)("div",{className:"col-12 col-md-4 col-lg-3",children:Object(o.jsxs)(g,{children:[Object(o.jsx)("h5",{className:"card-title",children:"All snippets"}),Object(o.jsxs)("div",{className:"mb-3 d-flex justify-content-between",children:[Object(o.jsx)("span",{children:"Total"}),Object(o.jsx)("span",{children:e.length})]}),Object(o.jsx)("hr",{}),Object(o.jsx)("h5",{className:"card-title",children:"Filter by tags"}),Object(o.jsx)(a.Fragment,{children:t.map(((t,s)=>{const a=n===t.name;return Object(o.jsxs)("div",{className:"d-flex justify-content-between cursor-pointer ".concat(a&&"text-success"),onClick:()=>(t=>{l(t);const s=e.filter((e=>e.tags.includes(t)));r(s)})(t.name),children:[Object(o.jsx)("span",{children:t.name}),Object(o.jsx)("span",{children:t.count})]},s)}))}),Object(o.jsx)("div",{className:"d-grid mt-3",children:Object(o.jsx)(f,{text:"Clear filters",color:"secondary",small:!0,outline:!0,handler:()=>{l(null),r([...e])}})})]})}),Object(o.jsx)("div",{className:"col-12 col-md-8 col-lg-9",children:Object(o.jsx)(L,{snippets:i})})]})})};var X=e=>{let{code:t,language:s,currentTags:c,onTagsGenerated:n}=e;const[l,i]=Object(a.useState)(!1),[r,d]=Object(a.useState)([]),[j,p]=Object(a.useState)("");return Object(o.jsxs)("div",{className:"auto-tagger",children:[Object(o.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[Object(o.jsx)("label",{className:"form-label mb-0",children:"\ud83c\udff7\ufe0f Smart Tags"}),Object(o.jsx)(f,{text:l?"Generating...":"Generate AI Tags",color:"success",small:!0,outline:!0,handler:async()=>{i(!0),p("");try{const e=await m.a.post("/api/ai/generate-tags",{code:t,language:s});if(e.data.success){const t=e.data.tags.filter((e=>!c.includes(e.toLowerCase())));d(t)}else p(e.data.error||"Failed to generate tags")}catch(n){var e,a;p((null===(e=n.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"Failed to connect to AI service")}finally{i(!1)}},classes:"ms-2"})]}),j&&Object(o.jsx)("div",{className:"alert alert-warning alert-sm mb-2",children:Object(o.jsx)("small",{children:j})}),r.length>0&&Object(o.jsxs)("div",{className:"suggested-tags p-2 bg-light rounded border",children:[Object(o.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[Object(o.jsx)("small",{className:"text-muted",children:"AI Suggested Tags:"}),Object(o.jsx)(f,{text:"Add All",color:"success",small:!0,handler:()=>{const e=[...c,...r];n(e),d([])}})]}),Object(o.jsx)("div",{className:"d-flex flex-wrap gap-1",children:r.map(((e,t)=>Object(o.jsxs)("span",{className:"badge bg-primary cursor-pointer me-1 mb-1",onClick:()=>(e=>{const t=[...c,e];n(t),d(r.filter((t=>t!==e)))})(e),title:'Click to add "'.concat(e,'" to your tags'),style:{cursor:"pointer"},children:[e," ",Object(o.jsx)("span",{className:"ms-1",children:"+"})]},t)))})]}),c.length>0&&Object(o.jsxs)("div",{className:"current-tags mt-2",children:[Object(o.jsx)("small",{className:"text-muted d-block mb-1",children:"Current Tags:"}),Object(o.jsx)("div",{className:"d-flex flex-wrap gap-1",children:c.map(((e,t)=>Object(o.jsx)(O,{text:e,color:"primary"},t)))})]})]})};var $=e=>{let{code:t,language:s,aiExplanation:c}=e;const[n,l]=Object(a.useState)(c||""),[i,r]=Object(a.useState)(!1),[d,j]=Object(a.useState)("");return Object(o.jsxs)("div",{className:"ai-explainer",children:[Object(o.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[Object(o.jsx)("h6",{className:"mb-0",children:"\ud83e\udd16 AI Code Explanation"}),Object(o.jsx)(f,{text:i?"Analyzing...":n?"Refresh Explanation":"Explain Code",color:"primary",outline:!0,small:!0,handler:async()=>{r(!0),j("");try{const e=await m.a.post("/api/ai/explain",{code:t,language:s});e.data.success?l(e.data.explanation):j(e.data.error||"Failed to generate explanation")}catch(c){var e,a;j((null===(e=c.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"Failed to connect to AI service")}finally{r(!1)}},classes:"ms-2"})]}),d&&Object(o.jsx)("div",{className:"alert alert-warning alert-sm",children:Object(o.jsx)("small",{children:d})}),n&&Object(o.jsxs)("div",{className:"ai-explanation p-3 bg-light rounded border",children:[Object(o.jsx)("small",{className:"text-muted d-block mb-1",children:"AI Generated Explanation:"}),Object(o.jsx)("p",{className:"mb-0",children:n})]}),!n&&!i&&Object(o.jsx)("div",{className:"text-muted",children:Object(o.jsx)("small",{children:'Click "Explain Code" to get an AI-powered explanation of this code snippet.'})})]})};const ee=e=>{const{inEdit:t=!1}=e,{createSnippet:s,currentSnippet:c,updateSnippet:n}=Object(a.useContext)(x),[l,i]=Object(a.useState)({title:"",description:"",language:"",code:"",docs:"",isPinned:!1,tags:[]}),[r,d]=Object(a.useState)(!1);Object(a.useEffect)((()=>{t&&c&&i(Object(p.a)({},c))}),[c]);const j=e=>{i(Object(p.a)(Object(p.a)({},l),{},{[e.target.name]:e.target.value}))};return Object(o.jsx)(a.Fragment,{children:Object(o.jsx)("div",{className:"col-12 mt-3",children:Object(o.jsx)(g,{children:Object(o.jsxs)("form",{onSubmit:e=>(e=>{e.preventDefault();const a=Object(p.a)(Object(p.a)({},l),{},{useAI:r});t?c&&n(a,c.id):s(a)})(e),children:[Object(o.jsx)("h5",{className:"card-title mb-3",children:"Snippet details"}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),Object(o.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:l.title,placeholder:"Recursively copy all files",required:!0,onChange:e=>j(e)})]}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"description",className:"form-label",children:"Short description"}),Object(o.jsx)("input",{type:"text",className:"form-control",id:"description",name:"description",value:l.description,placeholder:"Bash script to copy all files from src to dest",onChange:e=>j(e)})]}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"language",className:"form-label",children:"Language"}),Object(o.jsx)("input",{type:"text",className:"form-control",id:"language",name:"language",value:l.language,placeholder:"python",required:!0,onChange:e=>j(e)})]}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"tags",className:"form-label",children:"Tags"}),Object(o.jsx)("input",{type:"text",className:"form-control",id:"tags",name:"tags",value:l.tags.join(","),placeholder:"automation, files, loop",onChange:e=>(e=>{const t=e.target.value.split(",");i(Object(p.a)(Object(p.a)({},l),{},{tags:t}))})(e)}),Object(o.jsx)("div",{className:"form-text",children:"Tags should be separated with a comma. Language tag will be added automatically"})]}),Object(o.jsx)("h5",{className:"card-title mb-3",children:"Snippet code"}),Object(o.jsx)("div",{className:"mb-3",children:Object(o.jsx)("textarea",{className:"form-control",id:"code",name:"code",rows:10,value:l.code,placeholder:"cp -r ./src ./dest",required:!0,onChange:e=>j(e)})}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsxs)("div",{className:"form-check",children:[Object(o.jsx)("input",{className:"form-check-input",type:"checkbox",id:"useAI",checked:r,onChange:e=>d(e.target.checked)}),Object(o.jsx)("label",{className:"form-check-label",htmlFor:"useAI",children:"\ud83e\udd16 Enable AI Features (Auto-tagging & Code explanation)"})]}),Object(o.jsx)("div",{className:"form-text",children:"AI features require an OpenAI API key to be configured"})]}),r&&l.code&&l.language&&Object(o.jsx)("div",{className:"mb-3",children:Object(o.jsx)(X,{code:l.code,language:l.language,currentTags:l.tags,onTagsGenerated:e=>i(Object(p.a)(Object(p.a)({},l),{},{tags:e}))})}),Object(o.jsx)("hr",{}),r&&l.code&&l.language&&Object(o.jsx)("div",{className:"mb-3",children:Object(o.jsx)($,{code:l.code,language:l.language})}),Object(o.jsx)("hr",{}),Object(o.jsx)("h5",{className:"card-title mb-3",children:"Snippet documentation"}),Object(o.jsx)("div",{className:"mb-3",children:Object(o.jsx)("textarea",{className:"form-control",id:"docs",name:"docs",rows:10,value:l.docs,placeholder:"`-r` flag stands for `--recursive`",onChange:e=>j(e)})}),Object(o.jsx)("div",{className:"d-grid",children:Object(o.jsx)(f,{text:"".concat(t?"Update snippet":"Create snippet"),color:"secondary",type:"submit"})})]})})})})},te=e=>{var t,s;let{inEdit:c=!1}=e;const{createSnippet:n,currentSnippet:l,updateSnippet:i}=Object(a.useContext)(x),[r,d]=Object(a.useState)(""),[j,b]=Object(a.useState)(null),[h,u]=Object(a.useState)(!1),[O,v]=Object(a.useState)(!1),[N,y]=Object(a.useState)(""),[S,w]=Object(a.useState)({title:"",description:"",language:"",tags:[],docs:"",isPinned:!1}),k=(e,t)=>{w((s=>Object(p.a)(Object(p.a)({},s),{},{[e]:t})))};return Object(o.jsx)("div",{className:"col-12 mt-3",children:Object(o.jsx)(g,{children:Object(o.jsxs)("div",{className:"smart-snippet-form",children:[Object(o.jsxs)("h5",{className:"card-title mb-3",children:["\ud83e\udd16 Smart Snippet Creator",Object(o.jsx)("small",{className:"text-muted d-block mt-1",children:"Just paste your code and let AI generate everything else!"})]}),N&&Object(o.jsx)("div",{className:"alert alert-danger mb-3",children:N}),Object(o.jsxs)("div",{className:"step-1 mb-4",children:[Object(o.jsxs)("label",{htmlFor:"code",className:"form-label",children:[Object(o.jsx)("strong",{children:"Step 1:"})," Paste your code here"]}),Object(o.jsx)("textarea",{className:"form-control",id:"code",rows:10,value:r,placeholder:"// Paste your code here...\r\nfunction fibonacci(n) {\r if (n <= 1) return n;\r return fibonacci(n - 1) + fibonacci(n - 2);\r\n}",onChange:e=>d(e.target.value)}),Object(o.jsxs)("div",{className:"d-flex gap-2 mt-2",children:[Object(o.jsx)(f,{text:h?"Analyzing Code...":"\ud83e\udde0 Generate Details with AI",color:"primary",handler:async()=>{if(r.trim()){u(!0),y("");try{const e=await m.a.post("/api/ai/generate-snippet",{code:r.trim()});if(e.data.success){const t={title:e.data.title,description:e.data.description,language:e.data.language,code:r.trim(),tags:e.data.tags,docs:e.data.explanation,isPinned:!1};b(t),w(t),y("")}else y(e.data.error||"Failed to generate snippet details")}catch(s){var e,t;y((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to connect to AI service")}finally{u(!1)}}else y("Please paste some code first")},disabled:h||!r.trim()}),j&&Object(o.jsx)(f,{text:"\ud83d\udd04 Reset",color:"secondary",outline:!0,handler:()=>{d(""),b(null),w({title:"",description:"",language:"",tags:[],docs:"",isPinned:!1}),v(!1),y("")}})]})]}),j&&Object(o.jsxs)("div",{className:"step-2 mb-4",children:[Object(o.jsx)("hr",{}),Object(o.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[Object(o.jsxs)("h6",{className:"mb-0",children:[Object(o.jsx)("strong",{children:"Step 2:"})," Review & Edit Generated Details"]}),Object(o.jsx)(f,{text:O?"\ud83d\udcd6 View Mode":"\u270f\ufe0f Edit Mode",color:"info",small:!0,outline:!0,handler:()=>v(!O)})]}),O?Object(o.jsx)("div",{className:"edit-mode",children:Object(o.jsxs)("div",{className:"row g-3",children:[Object(o.jsxs)("div",{className:"col-md-6",children:[Object(o.jsx)("label",{className:"form-label",children:"Title"}),Object(o.jsx)("input",{type:"text",className:"form-control",value:S.title||"",onChange:e=>k("title",e.target.value)})]}),Object(o.jsxs)("div",{className:"col-md-6",children:[Object(o.jsx)("label",{className:"form-label",children:"Language"}),Object(o.jsx)("input",{type:"text",className:"form-control",value:S.language||"",onChange:e=>k("language",e.target.value)})]}),Object(o.jsxs)("div",{className:"col-12",children:[Object(o.jsx)("label",{className:"form-label",children:"Description"}),Object(o.jsx)("input",{type:"text",className:"form-control",value:S.description||"",onChange:e=>k("description",e.target.value)})]}),Object(o.jsxs)("div",{className:"col-12",children:[Object(o.jsx)("label",{className:"form-label",children:"Tags (comma-separated)"}),Object(o.jsx)("input",{type:"text",className:"form-control",value:(null===(s=S.tags)||void 0===s?void 0:s.join(", "))||"",onChange:e=>(e=>{const t=e.split(",").map((e=>e.trim())).filter((e=>e.length>0));k("tags",t)})(e.target.value)})]}),Object(o.jsxs)("div",{className:"col-12",children:[Object(o.jsx)("label",{className:"form-label",children:"Documentation / Explanation"}),Object(o.jsx)("textarea",{className:"form-control",rows:4,value:S.docs||"",onChange:e=>k("docs",e.target.value)})]})]})}):Object(o.jsx)("div",{className:"generated-preview",children:Object(o.jsxs)("div",{className:"row g-3",children:[Object(o.jsx)("div",{className:"col-md-8",children:Object(o.jsx)("div",{className:"card border-success",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsxs)("h6",{className:"card-title text-success",children:["\ud83d\udcdd ",S.title]}),Object(o.jsx)("p",{className:"card-text",children:S.description}),Object(o.jsxs)("div",{className:"d-flex gap-2 flex-wrap",children:[Object(o.jsx)("span",{className:"badge bg-primary",children:S.language}),null===(t=S.tags)||void 0===t?void 0:t.map(((e,t)=>Object(o.jsx)("span",{className:"badge bg-secondary",children:e},t)))]})]})})}),Object(o.jsx)("div",{className:"col-md-4",children:Object(o.jsx)("div",{className:"card border-info",children:Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("h6",{className:"card-title text-info",children:"\ud83e\udd16 AI Explanation"}),Object(o.jsx)("p",{className:"card-text",children:Object(o.jsx)("small",{children:S.docs})})]})})})]})}),Object(o.jsx)("hr",{}),Object(o.jsxs)("div",{className:"step-3",children:[Object(o.jsxs)("h6",{children:[Object(o.jsx)("strong",{children:"Step 3:"})," Save Snippet"]}),Object(o.jsx)("div",{className:"d-grid gap-2 d-md-flex",children:Object(o.jsx)(f,{text:c?"\ud83d\udcbe Update Snippet":"\ud83d\udcbe Save Snippet",color:"success",handler:()=>{if(!S.title||!S.code)return void y("Title and code are required");const e=Object(p.a)(Object(p.a)({},S),{},{code:r,useAI:!0});c&&l?i(e,l.id):n(e)}})})]})]})]})})})},se=()=>{const{setSnippet:e}=Object(a.useContext)(x),[t,s]=Object(a.useState)(!1),[c,n]=Object(a.useState)(!0),l=Object(r.g)(),{from:i}=l.state||"/snippets",{id:d}=Object(r.h)();Object(a.useEffect)((()=>{d&&(e(+d),s(!0),n(!1))}),[]);return Object(o.jsx)(u,{children:t?Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)(v,{title:"Edit snippet",prevDest:i,prevState:{from:"/snippets"}}),Object(o.jsx)(ee,{inEdit:!0})]}):Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)(v,{title:"Add new snippet",children:Object(o.jsxs)("div",{className:"d-flex gap-2 mt-2",children:[Object(o.jsx)(f,{text:c?"\ud83e\udd16 Smart Mode":"\ud83d\udcdd Manual Mode",color:c?"primary":"secondary",outline:!c,handler:()=>{n(!c)}}),Object(o.jsx)("span",{className:"badge bg-info align-self-center",children:c?"AI-Powered":"Traditional"})]})}),c?Object(o.jsx)(te,{}):Object(o.jsx)(ee,{})]})})},ae=()=>{Object(r.f)();return Object(o.jsxs)("div",{className:"container-xxl my-5",children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-12",children:Object(o.jsx)(v,{title:"Smart Snippet Creator",children:Object(o.jsx)("p",{className:"text-muted mb-0",children:"Paste your code and let AI generate the title, description, language, and tags for you."})})})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-12",children:Object(o.jsx)(te,{})})})]})},ce=()=>Object(o.jsx)(i.a,{children:Object(o.jsxs)(h,{children:[Object(o.jsx)(j,{}),Object(o.jsxs)(r.c,{children:[Object(o.jsx)(r.a,{exact:!0,path:"/",component:Z}),Object(o.jsx)(r.a,{path:"/snippets",component:W}),Object(o.jsx)(r.a,{path:"/snippet/:id",component:Q}),Object(o.jsx)(r.a,{path:"/editor/:id?",component:se}),Object(o.jsx)(r.a,{path:"/smart-create",component:ae})]})]})});l.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(ce,{})}),document.getElementById("root"))},33:function(e){e.exports=JSON.parse('{"a":[{"name":"Home","dest":"/"},{"name":"Snippets","dest":"/snippets"},{"name":"Editor","dest":"/editor"},{"name":"Smart Create","dest":"/smart-create"}]}')},38:function(e){e.exports=JSON.parse('{"a":["1c","abnf","accesslog","actionscript","ada","adoc","angelscript","apache","apacheconf","applescript","arcade","arduino","arm","armasm","as","asc","asciidoc","aspectj","atom","autohotkey","autoit","avrasm","awk","axapta","bash","basic","bat","bf","bind","bnf","brainfuck","c","c++","cal","capnp","capnproto","cc","clj","clojure","cls","cmake.in","cmake","cmd","coffee","coffeescript","console","coq","cos","cpp","cr","craftcms","crm","crmsh","crystal","cs","csharp","cson","csp","css","cxx","d","dart","dfm","diff","django","dns","docker","dockerfile","dos","dpr","dsconfig","dst","dts","dust","ebnf","elixir","elm","erl","erlang","excel","f90","f95","fix","fortran","fs","fsharp","gams","gauss","gawk","gcode","gemspec","gherkin","glsl","gms","go","golang","golo","gololang","gradle","graph","groovy","gss","gyp","h","h++","haml","handlebars","haskell","haxe","hbs","hh","hpp","hs","html.handlebars","html.hbs","html","http","https","hx","hxx","hy","hylang","i7","iced","inform7","ini","ino","instances","irb","irpf90","java","javascript","jinja","js","json","jsp","jsx","julia-repl","julia","k","kdb","kotlin","kt","lasso","lassoscript","ldif","leaf","less","lisp","livecodeserver","livescript","ls","ls","lua","mak","make","makefile","markdown","mathematica","matlab","mawk","maxima","md","mel","mercury","mizar","mk","mkd","mkdown","ml","ml","mm","mma","mojolicious","monkey","moon","moonscript","n1ql","nawk","nc","nginx","nginxconf","nim","nimrod","nix","nsis","obj-c","obj-c++","objc","objective-c++","objectivec","ocaml","openscad","osascript","oxygene","p21","parser3","pas","pascal","patch","pcmk","perl","pf.conf","pf","pgsql","php","pl","plaintext","plist","pm","podspec","pony","postgres","postgresql","powershell","pp","processing","profile","prolog","properties","protobuf","ps","ps1","puppet","py","pycon","python-repl","python","qml","r","rb","re","reasonml","rib","rs","rsl","rss","ruby","ruleslanguage","rust","SAS","sas","scad","scala","scheme","sci","scilab","scss","sh","shell","smali","smalltalk","sml","sql","st","stan","stanfuncs","stata","step","stp","styl","stylus","subunit","svg","swift","tao","tap","tcl","tex","text","thor","thrift","tk","toml","tp","ts","twig","txt","typescript","v","vala","vb","vbnet","vbs","vbscript","verilog","vhdl","vim","wl","x++","x86asm","xhtml","xjb","xl","xls","xlsx","xml","xpath","xq","xquery","xsd","xsl","yaml","yml","zep","zephir","zone","zsh"]}')},51:function(e,t,s){}},[[272,1,2]]]);
//# sourceMappingURL=main.b9bcd529.chunk.js.map